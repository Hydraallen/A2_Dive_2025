<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>

<body>
  <div id="vis"></div>
  <script>
    (function (vegaEmbed) {
      var spec = { "config": { "view": { "continuousWidth": 300, "continuousHeight": 300 } }, "data": { "url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": { "feature": "counties", "type": "topojson" } }, "mark": { "type": "geoshape", "stroke": "black", "strokeWidth": 0.5 }, "encoding": { "color": { "field": "log_total_amount", "legend": { "orient": "right", "title": "Log Total Amount" }, "scale": { "scheme": "orangered" }, "type": "quantitative" }, "opacity": { "condition": { "param": "param_11", "value": 1 }, "value": 0.4 }, "tooltip": [{ "field": "id", "title": "County FIPS", "type": "nominal" }, { "field": "total_amount", "format": "$,.2f", "title": "Total Amount", "type": "quantitative" }, { "field": "log_total_amount", "format": ".2f", "title": "Log Total Amount", "type": "quantitative" }] }, "height": 500, "params": [{ "name": "param_11", "select": { "type": "point", "fields": ["id"] } }], "projection": { "type": "albersUsa" }, "title": "Michigan Counties - Log Average Amount by County(Contribution)", "transform": [{ "filter": "((datum.id >= 26000) && (datum.id < 27000))" }, { "lookup": "id", "from": { "data": { "name": "data-49e02ea54247109784fe9fb02f138bd9" }, "key": "id", "fields": ["log_total_amount", "total_amount"] } }], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": { "data-49e02ea54247109784fe9fb02f138bd9": [{ "id": 26001, "total_amount": 0.3357540106951872, "log_total_amount": 0.28949593443045146 }, { "id": 26003, "total_amount": 0.786581527936146, "log_total_amount": 0.5803040330046502 }, { "id": 26005, "total_amount": 2.1833165090248237, "log_total_amount": 1.1579235806874708 }, { "id": 26007, "total_amount": 0.8203335291881243, "log_total_amount": 0.5990197420947181 }, { "id": 26009, "total_amount": 0.4993156594212003, "log_total_amount": 0.4050087769524052 }, { "id": 26011, "total_amount": 0.5999301071690075, "log_total_amount": 0.4699599452722344 }, { "id": 26013, "total_amount": 0.3187948001457903, "log_total_amount": 0.27671828933974824 }, { "id": 26015, "total_amount": 2.58790500625584, "log_total_amount": 1.2775684684435729 }, { "id": 26017, "total_amount": 0.6837931067923504, "log_total_amount": 0.5210490500731313 }, { "id": 26019, "total_amount": 0.6163700657894736, "log_total_amount": 0.4801829349895 }, { "id": 26021, "total_amount": 0.31687958176538755, "log_total_amount": 0.2752649848415595 }, { "id": 26023, "total_amount": 0.5038069853347785, "log_total_amount": 0.4079998830732104 }, { "id": 26025, "total_amount": 0.6355738023225421, "log_total_amount": 0.4919936922136165 }, { "id": 26027, "total_amount": 0.10495992081206451, "log_total_amount": 0.09980906355360361 }, { "id": 26029, "total_amount": 0.20033636224801465, "log_total_amount": 0.18260181939006956 }, { "id": 26031, "total_amount": 0.680674279499728, "log_total_amount": 0.5191950697381299 }, { "id": 26033, "total_amount": 0.5683625665765037, "log_total_amount": 0.450032123882979 }, { "id": 26035, "total_amount": 0.7630038853032785, "log_total_amount": 0.5670191072155046 }, { "id": 26037, "total_amount": 1.7680807483130225, "log_total_amount": 1.0181542094083305 }, { "id": 26039, "total_amount": 0.45102931203375785, "log_total_amount": 0.372273174961797 }, { "id": 26041, "total_amount": 0.7361811173245019, "log_total_amount": 0.5516879410521852 }, { "id": 26043, "total_amount": 0.4539722738537794, "log_total_amount": 0.374299310053159 }, { "id": 26045, "total_amount": 2.775990396709542, "log_total_amount": 1.3286627050357251 }, { "id": 26047, "total_amount": 2.3842194560242542, "log_total_amount": 1.2191232907122342 }, { "id": 26049, "total_amount": 0.7096702354508009, "log_total_amount": 0.5363005071520123 }, { "id": 26051, "total_amount": 0.30478626104023554, "log_total_amount": 0.2660392427169896 }, { "id": 26053, "total_amount": 0.2750716671305316, "log_total_amount": 0.24300238654483639 }, { "id": 26055, "total_amount": 1.8477601708600302, "log_total_amount": 1.0465327803339628 }, { "id": 26057, "total_amount": 1.2662262095016708, "log_total_amount": 0.8181159852940044 }, { "id": 26059, "total_amount": 0.3841778089518215, "log_total_amount": 0.325106323619485 }, { "id": 26061, "total_amount": 0.7846197505862289, "log_total_amount": 0.579205367656915 }, { "id": 26063, "total_amount": 0.6635780197324308, "log_total_amount": 0.5089707163278451 }, { "id": 26065, "total_amount": 6.489309435990311, "log_total_amount": 2.0134765951464844 }, { "id": 26067, "total_amount": 0.6130030065965626, "log_total_amount": 0.47809766311936475 }, { "id": 26069, "total_amount": 0.4483045501143443, "log_total_amount": 0.3703935965129956 }, { "id": 26071, "total_amount": 0.07026989738725532, "log_total_amount": 0.06791085721535293 }, { "id": 26073, "total_amount": 0.8290848686667497, "log_total_amount": 0.6038157700089399 }, { "id": 26075, "total_amount": 2.613299642279671, "log_total_amount": 1.2846213832075788 }, { "id": 26077, "total_amount": 1.3673924456759516, "log_total_amount": 0.8617891155534113 }, { "id": 26079, "total_amount": 0.25204623763476713, "log_total_amount": 0.22477920301415813 }, { "id": 26081, "total_amount": 3.7550092643316404, "log_total_amount": 1.5591986443301855 }, { "id": 26083, "total_amount": 0.08301707779886147, "log_total_amount": 0.07975073686854257 }, { "id": 26085, "total_amount": 0.7393298591319925, "log_total_amount": 0.553499900611695 }, { "id": 26087, "total_amount": 0.5558655418588652, "log_total_amount": 0.44203200933530384 }, { "id": 26089, "total_amount": 0.46000751215201063, "log_total_amount": 0.37844158101660436 }, { "id": 26091, "total_amount": 0.5606612179002068, "log_total_amount": 0.4451095890875135 }, { "id": 26093, "total_amount": 1.2647960520927184, "log_total_amount": 0.8174847116546898 }, { "id": 26095, "total_amount": 0.3731459170013387, "log_total_amount": 0.31710439717778416 }, { "id": 26097, "total_amount": 1.203172565560242, "log_total_amount": 0.7898983968269632 }, { "id": 26099, "total_amount": 0.61450383862181, "log_total_amount": 0.4790276888050728 }, { "id": 26101, "total_amount": 0.8458583267561168, "log_total_amount": 0.6129443870662543 }, { "id": 26103, "total_amount": 0.3571710069706388, "log_total_amount": 0.3054023913144354 }, { "id": 26105, "total_amount": 1.4489833049403749, "log_total_amount": 0.8956729608542564 }, { "id": 26107, "total_amount": 1.1487245650250664, "log_total_amount": 0.764874440541927 }, { "id": 26109, "total_amount": 0.5781530546623794, "log_total_amount": 0.4562552105353796 }, { "id": 26111, "total_amount": 2.611130245257712, "log_total_amount": 1.2840208106721855 }, { "id": 26113, "total_amount": 0.5417883500263574, "log_total_amount": 0.43294300892831666 }, { "id": 26115, "total_amount": 0.5837851371417184, "log_total_amount": 0.45981763844765355 }, { "id": 26117, "total_amount": 1.3355183266281676, "log_total_amount": 0.848233847911969 }, { "id": 26119, "total_amount": 0.49871023215821153, "log_total_amount": 0.4046048930013565 }, { "id": 26121, "total_amount": 0.5087860873329119, "log_total_amount": 0.41130541183977004 }, { "id": 26123, "total_amount": 0.6149544651891827, "log_total_amount": 0.47930676134783673 }, { "id": 26125, "total_amount": 1.4065420388190852, "log_total_amount": 0.8781908784715627 }, { "id": 26127, "total_amount": 0.7949752539723887, "log_total_amount": 0.5849912357574074 }, { "id": 26129, "total_amount": 0.8970954237043453, "log_total_amount": 0.6403239921149245 }, { "id": 26131, "total_amount": 0.36018392370572205, "log_total_amount": 0.30761992862303744 }, { "id": 26133, "total_amount": 0.3047981888745149, "log_total_amount": 0.2660483842753552 }, { "id": 26135, "total_amount": 0.10629656332612353, "log_total_amount": 0.1010180075964535 }, { "id": 26137, "total_amount": 1.149554766133807, "log_total_amount": 0.7652607351752451 }, { "id": 26139, "total_amount": 1.6864097468447758, "log_total_amount": 0.9882056355525353 }, { "id": 26141, "total_amount": 0.449609837558828, "log_total_amount": 0.3712944426789891 }, { "id": 26143, "total_amount": 0.668812735190901, "log_total_amount": 0.5121124365816696 }, { "id": 26145, "total_amount": 0.8373976035835449, "log_total_amount": 0.6083502246111788 }, { "id": 26147, "total_amount": 0.8766458441242363, "log_total_amount": 0.6294860579286318 }, { "id": 26149, "total_amount": 0.3077683750431339, "log_total_amount": 0.26832215405355175 }, { "id": 26151, "total_amount": 0.41823677395486497, "log_total_amount": 0.3494143915719354 }, { "id": 26153, "total_amount": 0.4594048210735587, "log_total_amount": 0.3780286958066909 }, { "id": 26155, "total_amount": 0.783954582892105, "log_total_amount": 0.5788325758136362 }, { "id": 26157, "total_amount": 0.714980110476406, "log_total_amount": 0.5394014831608023 }, { "id": 26159, "total_amount": 2.415199312941798, "log_total_amount": 1.2282358552850308 }, { "id": 26161, "total_amount": 1.2000073142468928, "log_total_amount": 0.7884606850164221 }, { "id": 26163, "total_amount": 0.7232668955991338, "log_total_amount": 0.5442218472323739 }, { "id": 26165, "total_amount": 0.17979856072671505, "log_total_amount": 0.16534371265620312 }] } };
      var embedOpt = { "mode": "vega-lite" };

      function showError(el, error) {
        el.innerHTML = ('<div style="color:red;">'
          + '<p>JavaScript Error: ' + error.message + '</p>'
          + "<p>This usually means there's a typo in your chart specification. "
          + "See the javascript console for the full traceback.</p>"
          + '</div>');
        throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>

</html>