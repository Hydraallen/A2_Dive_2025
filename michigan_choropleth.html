<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "counties", "type": "topojson"}}, "mark": {"type": "geoshape", "stroke": "black", "strokeWidth": 0.5}, "encoding": {"color": {"field": "log_total_amount", "legend": {"orient": "right", "title": "Log Total Amount"}, "scale": {"scheme": "yellowgreenblue"}, "type": "quantitative"}, "opacity": {"condition": {"param": "param_1", "value": 1}, "value": 0.4}, "tooltip": [{"field": "id", "title": "County FIPS", "type": "nominal"}, {"field": "total_amount", "format": "$,.2f", "title": "Total Amount", "type": "quantitative"}, {"field": "log_total_amount", "format": ".2f", "title": "Log Total Amount", "type": "quantitative"}]}, "height": 500, "params": [{"name": "param_1", "select": {"type": "point", "fields": ["id"]}}], "projection": {"type": "albersUsa"}, "title": "Michigan Counties - Log Average Amount by County", "transform": [{"filter": "((datum.id >= 26000) && (datum.id < 27000))"}, {"lookup": "id", "from": {"data": {"name": "data-30fab9156bbd5ed7bcdab8abf8cd7f79"}, "key": "id", "fields": ["log_total_amount", "total_amount"]}}], "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-30fab9156bbd5ed7bcdab8abf8cd7f79": [{"id": 26001, "total_amount": 0.3049642319277108, "log_total_amount": 0.2661756319145246}, {"id": 26003, "total_amount": 0.7115951696377228, "log_total_amount": 0.5374257834238729}, {"id": 26005, "total_amount": 0.6853713580932622, "log_total_amount": 0.5219859300816928}, {"id": 26007, "total_amount": 1.7383762931183613, "log_total_amount": 1.007365150994481}, {"id": 26009, "total_amount": 0.35055999347896966, "log_total_amount": 0.30051931642488283}, {"id": 26011, "total_amount": 0.98413468549082, "log_total_amount": 0.6851828923906087}, {"id": 26015, "total_amount": 0.41453604060913707, "log_total_amount": 0.3468015908333614}, {"id": 26017, "total_amount": 1.0388106301935685, "log_total_amount": 0.7123666134163844}, {"id": 26019, "total_amount": 0.1109244060475162, "log_total_amount": 0.10519246698120295}, {"id": 26021, "total_amount": 1.0534726888142343, "log_total_amount": 0.7195323545034052}, {"id": 26023, "total_amount": 0.8149230302899084, "log_total_amount": 0.596043059263819}, {"id": 26025, "total_amount": 9.003478715850058, "log_total_amount": 2.3029329040857607}, {"id": 26027, "total_amount": 0.12657788554801164, "log_total_amount": 0.1191846179124925}, {"id": 26029, "total_amount": 0.18538402604864967, "log_total_amount": 0.17006679470180117}, {"id": 26031, "total_amount": 1.185609305191804, "log_total_amount": 0.781894647885181}, {"id": 26033, "total_amount": 2.534031666344854, "log_total_amount": 1.2624393343397746}, {"id": 26035, "total_amount": 0.9026174176086611, "log_total_amount": 0.6432305263833741}, {"id": 26037, "total_amount": 17.260236976889445, "log_total_amount": 2.904725853006457}, {"id": 26039, "total_amount": 0.7043539966173983, "log_total_amount": 0.5331861513250031}, {"id": 26041, "total_amount": 0.3639245509308474, "log_total_amount": 0.3103662433245359}, {"id": 26043, "total_amount": 0.8031075206770533, "log_total_amount": 0.5895115767620673}, {"id": 26045, "total_amount": 4.549089173836009, "log_total_amount": 1.7136338014680197}, {"id": 26047, "total_amount": 3.556252025096468, "log_total_amount": 1.5165003612403496}, {"id": 26049, "total_amount": 2.7070659169382445, "log_total_amount": 1.3102407057580725}, {"id": 26051, "total_amount": 0.0747536064627813, "log_total_amount": 0.07209143201810159}, {"id": 26053, "total_amount": 0.4440606316381796, "log_total_amount": 0.36745902825823445}, {"id": 26055, "total_amount": 4.448267632600259, "log_total_amount": 1.6952976925672476}, {"id": 26057, "total_amount": 0.2552798994489026, "log_total_amount": 0.2273585751661477}, {"id": 26059, "total_amount": 0.12137113402061855, "log_total_amount": 0.11455216335652758}, {"id": 26061, "total_amount": 0.5420753923398438, "log_total_amount": 0.4331291665139272}, {"id": 26063, "total_amount": 0.35007829759584147, "log_total_amount": 0.30016258898764825}, {"id": 26065, "total_amount": 48.47078405244691, "log_total_amount": 3.9013822741628785}, {"id": 26067, "total_amount": 0.10928513207547169, "log_total_amount": 0.10371578269372503}, {"id": 26069, "total_amount": 0.024176097157052167, "log_total_amount": 0.023888481712125036}, {"id": 26071, "total_amount": 0.10838756512084721, "log_total_amount": 0.10290631517873132}, {"id": 26073, "total_amount": 0.8801127981313007, "log_total_amount": 0.6313317740480004}, {"id": 26075, "total_amount": 6.0316846716968415, "log_total_amount": 1.9504263174685796}, {"id": 26077, "total_amount": 3.063547057934889, "log_total_amount": 1.402056251785113}, {"id": 26079, "total_amount": 0.1908008378988076, "log_total_amount": 0.17462605380284404}, {"id": 26081, "total_amount": 4.1738027078671385, "log_total_amount": 1.643607951584774}, {"id": 26085, "total_amount": 0.2306805074971165, "log_total_amount": 0.20756727452121151}, {"id": 26087, "total_amount": 0.7957333348286381, "log_total_amount": 0.585413481589262}, {"id": 26089, "total_amount": 0.1370910760351537, "log_total_amount": 0.12847331361418593}, {"id": 26091, "total_amount": 0.878911362101774, "log_total_amount": 0.6306925464084727}, {"id": 26093, "total_amount": 1.8563994598326699, "log_total_amount": 1.0495619015850663}, {"id": 26095, "total_amount": 0.05653761061946903, "log_total_amount": 0.054997156701546306}, {"id": 26097, "total_amount": 10.214423905240489, "log_total_amount": 2.417200798417423}, {"id": 26099, "total_amount": 2.7074717296245097, "log_total_amount": 1.310350169815311}, {"id": 26101, "total_amount": 0.7057345507269094, "log_total_amount": 0.5339958394992353}, {"id": 26103, "total_amount": 9.582628605892996, "log_total_amount": 2.3592138460339243}, {"id": 26105, "total_amount": 1.4760543773416286, "log_total_amount": 0.9066663163508335}, {"id": 26107, "total_amount": 1.1965508856414047, "log_total_amount": 0.7868883508584583}, {"id": 26109, "total_amount": 3.248186984815618, "log_total_amount": 1.4464923001120649}, {"id": 26111, "total_amount": 3.1712539572968983, "log_total_amount": 1.4282166997906738}, {"id": 26113, "total_amount": 0.4754334273902487, "log_total_amount": 0.3889517957047333}, {"id": 26115, "total_amount": 1.807008491140376, "log_total_amount": 1.0321193223628353}, {"id": 26117, "total_amount": 1.24960743861269, "log_total_amount": 0.810755729266673}, {"id": 26119, "total_amount": 0.48195868945868947, "log_total_amount": 0.39336465162620016}, {"id": 26121, "total_amount": 0.8966429763058819, "log_total_amount": 0.640085468867983}, {"id": 26123, "total_amount": 0.504170549860205, "log_total_amount": 0.40824161661207026}, {"id": 26125, "total_amount": 5.120662539864661, "log_total_amount": 1.8116703488125647}, {"id": 26127, "total_amount": 0.6889287036351521, "log_total_amount": 0.5240944247589504}, {"id": 26129, "total_amount": 0.11990421729807005, "log_total_amount": 0.1132431613803561}, {"id": 26131, "total_amount": 0.8723815247252747, "log_total_amount": 0.6272111632327791}, {"id": 26133, "total_amount": 0.05748594787940726, "log_total_amount": 0.05589434379271087}, {"id": 26135, "total_amount": 0.19485807352256865, "log_total_amount": 0.17802741140340328}, {"id": 26137, "total_amount": 2.4979802936778746, "log_total_amount": 1.2521857429835932}, {"id": 26139, "total_amount": 1.7090893921334922, "log_total_amount": 0.9966125607621071}, {"id": 26141, "total_amount": 0.9412365835222978, "log_total_amount": 0.6633251841998506}, {"id": 26143, "total_amount": 0.1872254721711516, "log_total_amount": 0.1716190488705799}, {"id": 26145, "total_amount": 0.9596436600360122, "log_total_amount": 0.6727626506096174}, {"id": 26147, "total_amount": 0.7540822666367243, "log_total_amount": 0.5619457951515519}, {"id": 26149, "total_amount": 0.09583593532883229, "log_total_amount": 0.09151748327751605}, {"id": 26151, "total_amount": 0.6403211475938748, "log_total_amount": 0.4948920443691221}, {"id": 26155, "total_amount": 1.510235797711159, "log_total_amount": 0.9203766920425147}, {"id": 26157, "total_amount": 1.9522307940178554, "log_total_amount": 1.0825610859375239}, {"id": 26159, "total_amount": 16.65334340395907, "log_total_amount": 2.87092519342644}, {"id": 26161, "total_amount": 2.7063671547977264, "log_total_amount": 1.3100521933277784}, {"id": 26163, "total_amount": 4.433902661847715, "log_total_amount": 1.6926575980442564}, {"id": 26165, "total_amount": 0.8055919907138711, "log_total_amount": 0.5908885107082221}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>